(function(){"use strict";var e={7898:function(e,t,o){var s=o(5130),a=o(6768);const i={id:"app"};function r(e,t,o,s,r,n){const l=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(l)])}o(4114);var n={methods:{handleKakaoLogin(){window.Kakao.Auth.authorize({redirectUri:{VUE_APP_KAKAO_JAVASCRIPT_KEY:" 8d03210ed7796dc9bd82c25753705f6f",NODE_ENV:"production",BASE_URL:"/WSD-Assignment-04/"}.VUE_APP_KAKAO_REDIRECT_URI})}},mounted(){"/"===this.$route.path&&this.$router.push("/signin")}},l=o(1241);const c=(0,l.A)(n,[["render",r]]);var d=c,u=o(1387),h=o(4232);const v={class:"wrapper"},g={class:"content"},m={key:0},p={key:1},k={key:0,class:"error"},A={class:"remember-me"},w={class:"content"},E={key:0,class:"error"},f={class:"terms"},R=["disabled"];function D(e,t,o,i,r,n){return(0,a.uX)(),(0,a.CE)("div",null,[t[24]||(t[24]=(0,a.Lk)("div",{class:"bg-image"},null,-1)),(0,a.Lk)("div",v,[(0,a.Lk)("div",{class:(0,h.C4)(["card",{active:"login"===r.activeCard,backward:"signup"===r.activeCard}])},[(0,a.Lk)("div",g,[n.user?((0,a.uX)(),(0,a.CE)("h2",p,"Welcome, "+(0,h.v_)(n.user.nickname)+"!",1)):((0,a.uX)(),(0,a.CE)("h2",m,"Login")),n.user?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("form",{key:2,onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>n.handleLogin&&n.handleLogin(...e)),["prevent"]))},[t[14]||(t[14]=(0,a.Lk)("label",{for:"email"},"Email",-1)),(0,a.bo)((0,a.Lk)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),type:"email",required:""},null,512),[[s.Jo,r.email]]),t[15]||(t[15]=(0,a.Lk)("label",{for:"password"},"Password",-1)),(0,a.bo)((0,a.Lk)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),type:"password",required:""},null,512),[[s.Jo,r.password]]),r.loginError?((0,a.uX)(),(0,a.CE)("p",k,(0,h.v_)(r.loginError),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",A,[(0,a.bo)((0,a.Lk)("input",{id:"rememberMe","onUpdate:modelValue":t[2]||(t[2]=e=>r.rememberMe=e),type:"checkbox"},null,512),[[s.lH,r.rememberMe]]),t[13]||(t[13]=(0,a.Lk)("label",{for:"rememberMe"},"Remember Me",-1))]),t[16]||(t[16]=(0,a.Lk)("button",{type:"submit"},"Sign In",-1))],32)),n.user?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:3,class:"kakao-login",onClick:t[4]||(t[4]=(...e)=>n.handleKakaoLogin&&n.handleKakaoLogin(...e))}," 카카오 로그인 ")),n.user?((0,a.uX)(),(0,a.CE)("button",{key:5,onClick:t[6]||(t[6]=(...e)=>n.logout&&n.logout(...e)),class:"logout-button"},"Logout")):((0,a.uX)(),(0,a.CE)("p",{key:4,class:"switch",onClick:t[5]||(t[5]=(...e)=>n.switchToSignup&&n.switchToSignup(...e))},t[17]||(t[17]=[(0,a.eW)(" Don't have an account? "),(0,a.Lk)("b",null,"Sign up",-1)])))])],2),(0,a.Lk)("div",{class:(0,h.C4)(["card",{active:"signup"===r.activeCard,backward:"login"===r.activeCard}])},[(0,a.Lk)("div",w,[t[23]||(t[23]=(0,a.Lk)("h2",null,"Sign Up",-1)),(0,a.Lk)("form",{onSubmit:t[11]||(t[11]=(0,s.D$)(((...e)=>n.handleRegister&&n.handleRegister(...e)),["prevent"]))},[t[19]||(t[19]=(0,a.Lk)("label",{for:"newEmail"},"Email",-1)),(0,a.bo)((0,a.Lk)("input",{id:"newEmail","onUpdate:modelValue":t[7]||(t[7]=e=>r.newEmail=e),type:"email",required:""},null,512),[[s.Jo,r.newEmail]]),t[20]||(t[20]=(0,a.Lk)("label",{for:"newPassword"},"Password",-1)),(0,a.bo)((0,a.Lk)("input",{id:"newPassword","onUpdate:modelValue":t[8]||(t[8]=e=>r.newPassword=e),type:"password",required:""},null,512),[[s.Jo,r.newPassword]]),t[21]||(t[21]=(0,a.Lk)("label",{for:"confirmPassword"},"Confirm Password",-1)),(0,a.bo)((0,a.Lk)("input",{id:"confirmPassword","onUpdate:modelValue":t[9]||(t[9]=e=>r.confirmPassword=e),type:"password",required:""},null,512),[[s.Jo,r.confirmPassword]]),r.signupError?((0,a.uX)(),(0,a.CE)("p",E,(0,h.v_)(r.signupError),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",f,[(0,a.bo)((0,a.Lk)("input",{id:"terms","onUpdate:modelValue":t[10]||(t[10]=e=>r.termsAccepted=e),type:"checkbox"},null,512),[[s.lH,r.termsAccepted]]),t[18]||(t[18]=(0,a.Lk)("label",{for:"terms"},[(0,a.eW)(" I have read the "),(0,a.Lk)("b",null,"Terms and Conditions")],-1))]),(0,a.Lk)("button",{type:"submit",disabled:!r.termsAccepted}," Register ",8,R)],32),(0,a.Lk)("p",{class:"switch",onClick:t[12]||(t[12]=(...e)=>n.switchToLogin&&n.switchToLogin(...e))},t[22]||(t[22]=[(0,a.eW)(" Already have an account? "),(0,a.Lk)("b",null,"Sign in",-1)]))])],2)])])}o(4603),o(7566),o(8721);var L={data(){return{activeCard:"login",email:"",password:"",rememberMe:!1,loginError:"",newEmail:"",newPassword:"",confirmPassword:"",termsAccepted:!1,signupError:""}},computed:{user(){return this.$store.state.user}},mounted(){const e=new URLSearchParams(window.location.search),t=e.get("code");t&&this.handleKakaoCallback(t)},methods:{switchToSignup(){this.activeCard="signup"},switchToLogin(){this.activeCard="login"},handleLogin(){this.password.length<6?this.loginError="Password must be at least 6 characters long.":(alert("Login successful!"),this.$store.commit("setUser",{email:this.email}),this.$router.push("/home"))},handleRegister(){this.newPassword.length<6?this.signupError="Password must be at least 6 characters long.":this.newPassword===this.confirmPassword?(alert("Registration successful!"),this.switchToLogin()):this.signupError="Passwords do not match."},handleKakaoLogin(){const e=" 8d03210ed7796dc9bd82c25753705f6f",t={VUE_APP_KAKAO_JAVASCRIPT_KEY:" 8d03210ed7796dc9bd82c25753705f6f",NODE_ENV:"production",BASE_URL:"/WSD-Assignment-04/"}.VUE_APP_KAKAO_REDIRECT_URI,o=`https://kauth.kakao.com/oauth/authorize?client_id=${e}&redirect_uri=${t}&response_type=code`;window.location.href=o},handleKakaoCallback(e){fetch("https://kauth.kakao.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",client_id:" 8d03210ed7796dc9bd82c25753705f6f",redirect_uri:{VUE_APP_KAKAO_JAVASCRIPT_KEY:" 8d03210ed7796dc9bd82c25753705f6f",NODE_ENV:"production",BASE_URL:"/WSD-Assignment-04/"}.VUE_APP_KAKAO_REDIRECT_URI,code:e})}).then((e=>e.json())).then((e=>{e.access_token&&(localStorage.setItem("kakaoToken",e.access_token),this.getUserInfo(e.access_token))})).catch((e=>console.error(e)))},async getUserInfo(e){await fetch("https://kapi.kakao.com/v2/user/me",{method:"GET",headers:{Authorization:`Bearer ${e}`}}).then((e=>e.json())).then((e=>{const t={nickname:e.properties.nickname,profile_image:e.properties.profile_image};this.$store.commit("setUser",t),this.$router.push("/home")})).catch((e=>console.error(e)))},logout(){this.$store.commit("logout"),localStorage.removeItem("kakaoToken"),alert("로그아웃되었습니다."),this.$router.push("/signin")}}};const N=(0,l.A)(L,[["render",D],["__scopeId","data-v-e8584ef6"]]);var b=N;const S={class:"wrapper"},P={class:"content"},C={key:0,class:"error"},y={class:"remember-me"},_={class:"content"},I={key:0,class:"error"},M={class:"terms"},U=["disabled"];function T(e,t,o,i,r,n){return(0,a.uX)(),(0,a.CE)("div",null,[t[24]||(t[24]=(0,a.Lk)("div",{class:"bg-image"},null,-1)),(0,a.Lk)("div",S,[(0,a.Lk)("div",{class:(0,h.C4)(["card",{active:"login"===r.activeCard,backward:"signup"===r.activeCard}])},[(0,a.Lk)("div",P,[t[17]||(t[17]=(0,a.Lk)("h2",null,"Login",-1)),(0,a.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>n.handleLogin&&n.handleLogin(...e)),["prevent"]))},[t[13]||(t[13]=(0,a.Lk)("label",{for:"email"},"Email",-1)),(0,a.bo)((0,a.Lk)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),type:"email",required:""},null,512),[[s.Jo,r.email]]),t[14]||(t[14]=(0,a.Lk)("label",{for:"password"},"Password",-1)),(0,a.bo)((0,a.Lk)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),type:"password",required:""},null,512),[[s.Jo,r.password]]),r.loginError?((0,a.uX)(),(0,a.CE)("p",C,(0,h.v_)(r.loginError),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",y,[(0,a.bo)((0,a.Lk)("input",{id:"rememberMe","onUpdate:modelValue":t[2]||(t[2]=e=>r.rememberMe=e),type:"checkbox"},null,512),[[s.lH,r.rememberMe]]),t[12]||(t[12]=(0,a.Lk)("label",{for:"rememberMe"},"Remember Me",-1))]),t[15]||(t[15]=(0,a.Lk)("button",{type:"submit"},"Sign In",-1))],32),(0,a.Lk)("button",{class:"kakao-login",onClick:t[4]||(t[4]=(...e)=>n.handleKakaoLogin&&n.handleKakaoLogin(...e))}," 카카오 로그인 "),(0,a.Lk)("p",{class:"switch",onClick:t[5]||(t[5]=(...e)=>n.switchToSignup&&n.switchToSignup(...e))},t[16]||(t[16]=[(0,a.eW)(" Don't have an account? "),(0,a.Lk)("b",null,"Sign up",-1)]))])],2),(0,a.Lk)("div",{class:(0,h.C4)(["card",{active:"signup"===r.activeCard,backward:"login"===r.activeCard}])},[(0,a.Lk)("div",_,[t[23]||(t[23]=(0,a.Lk)("h2",null,"Sign Up",-1)),(0,a.Lk)("form",{onSubmit:t[10]||(t[10]=(0,s.D$)(((...e)=>n.handleRegister&&n.handleRegister(...e)),["prevent"]))},[t[19]||(t[19]=(0,a.Lk)("label",{for:"newEmail"},"Email",-1)),(0,a.bo)((0,a.Lk)("input",{id:"newEmail","onUpdate:modelValue":t[6]||(t[6]=e=>r.newEmail=e),type:"email",required:""},null,512),[[s.Jo,r.newEmail]]),t[20]||(t[20]=(0,a.Lk)("label",{for:"newPassword"},"Password",-1)),(0,a.bo)((0,a.Lk)("input",{id:"newPassword","onUpdate:modelValue":t[7]||(t[7]=e=>r.newPassword=e),type:"password",required:""},null,512),[[s.Jo,r.newPassword]]),t[21]||(t[21]=(0,a.Lk)("label",{for:"confirmPassword"},"Confirm Password",-1)),(0,a.bo)((0,a.Lk)("input",{id:"confirmPassword","onUpdate:modelValue":t[8]||(t[8]=e=>r.confirmPassword=e),type:"password",required:""},null,512),[[s.Jo,r.confirmPassword]]),r.signupError?((0,a.uX)(),(0,a.CE)("p",I,(0,h.v_)(r.signupError),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",M,[(0,a.bo)((0,a.Lk)("input",{id:"terms","onUpdate:modelValue":t[9]||(t[9]=e=>r.termsAccepted=e),type:"checkbox"},null,512),[[s.lH,r.termsAccepted]]),t[18]||(t[18]=(0,a.Lk)("label",{for:"terms"},[(0,a.eW)(" I have read the "),(0,a.Lk)("b",null,"Terms and Conditions")],-1))]),(0,a.Lk)("button",{type:"submit",disabled:!r.termsAccepted}," Register ",8,U)],32),(0,a.Lk)("p",{class:"switch",onClick:t[11]||(t[11]=(...e)=>n.switchToLogin&&n.switchToLogin(...e))},t[22]||(t[22]=[(0,a.eW)(" Already have an account? "),(0,a.Lk)("b",null,"Sign in",-1)]))])],2)])])}var O={data(){return{activeCard:"login",email:"",password:"",rememberMe:!1,loginError:"",newEmail:"",newPassword:"",confirmPassword:"",termsAccepted:!1,signupError:""}},mounted(){const e=new URLSearchParams(window.location.search),t=e.get("code");t&&this.handleKakaoCallback(t)},methods:{switchToSignup(){this.activeCard="signup"},switchToLogin(){this.activeCard="login"},handleLogin(){this.password.length<6?this.loginError="Password must be at least 6 characters long.":(alert("Login successful!"),this.$store.commit("setUser",{email:this.email}),this.$router.push("/home"))},handleRegister(){this.newPassword.length<6?this.signupError="Password must be at least 6 characters long.":this.newPassword===this.confirmPassword?(alert("Registration successful!"),this.switchToLogin()):this.signupError="Passwords do not match."},handleKakaoLogin(){const e=" 8d03210ed7796dc9bd82c25753705f6f",t={VUE_APP_KAKAO_JAVASCRIPT_KEY:" 8d03210ed7796dc9bd82c25753705f6f",NODE_ENV:"production",BASE_URL:"/WSD-Assignment-04/"}.VUE_APP_KAKAO_REDIRECT_URI,o=`https://kauth.kakao.com/oauth/authorize?client_id=${e}&redirect_uri=${t}&response_type=code`;window.location.href=o},handleKakaoCallback(e){fetch("https://kauth.kakao.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",client_id:" 8d03210ed7796dc9bd82c25753705f6f",redirect_uri:{VUE_APP_KAKAO_JAVASCRIPT_KEY:" 8d03210ed7796dc9bd82c25753705f6f",NODE_ENV:"production",BASE_URL:"/WSD-Assignment-04/"}.VUE_APP_KAKAO_REDIRECT_URI,code:e})}).then((e=>e.json())).then((e=>{e.access_token&&(localStorage.setItem("kakaoToken",e.access_token),this.getUserInfo(e.access_token))})).catch((e=>console.error(e)))},async getUserInfo(e){await fetch("https://kapi.kakao.com/v2/user/me",{method:"GET",headers:{Authorization:`Bearer ${e}`}}).then((e=>e.json())).then((e=>{const t={nickname:e.properties.nickname,profile_image:e.properties.profile_image};this.$store.commit("setUser",t),this.$router.push("/home")})).catch((e=>console.error(e)))}}};const B=(0,l.A)(O,[["render",T],["__scopeId","data-v-5b1ef752"]]);var K=B;const V={class:"wishlist"},Q={key:0,class:"empty-wishlist"},J={key:1,class:"wishlist-movies"},W={class:"movie-info"},X=["onClick"];function H(e,t,o,s,i,r){const n=(0,a.g2)("Navbar");return(0,a.uX)(),(0,a.CE)("div",V,[(0,a.bF)(n),t[1]||(t[1]=(0,a.Lk)("h2",null,"내가 찜한 콘텐츠",-1)),0===s.wishlist.length?((0,a.uX)(),(0,a.CE)("div",Q,t[0]||(t[0]=[(0,a.Lk)("p",null,"찜한 영화가 없습니다.",-1)]))):((0,a.uX)(),(0,a.CE)("div",J,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.wishlist,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"wishlist-movie",style:(0,h.Tr)({backgroundImage:`url(https://image.tmdb.org/t/p/w500/${e.poster_path})`})},[(0,a.Lk)("div",W,[(0,a.Lk)("h4",null,(0,h.v_)(e.title),1),(0,a.Lk)("button",{class:"remove-btn",onClick:t=>s.toggleWishlist(e)}," 삭제 ",8,X)])],4)))),128))]))])}var Y=o(782),F="data:image/png;base64,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",G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJQSURBVFiFxdfJjw1RFAbwXzdaaEQT87ATU4wxLMTGuhNtRf8BSMTG9C+IhcSGJQs7IYi9xDyFBdJIRAgRM4khHTE8i3vKe6T1q1dVHV9yclO3zne+U/dWnXuK1rEah3Afn8Pu4SBWFYiXG104jlqDvQnLrn/iGMZXLT4ND0LkMTZjYsP9iTH3JHweYGpV4iNwLQKfROcgvp04Fb5Xg1sa2yPgBXTk8O/ApeBsKyveJi3rDyxsgbcoOI/LJrBUepLzBbgXg7t4MKf2JkHmxXilQAKXY5xfJoGuGD8USOB9jBPKJPA2xskFEpgS4+sC3N+YK+3jzQLcW8GdUyYB6ItAa1rgrA3O3bLi0BvB+jAuh/846WyoYWMVCbThjHp1mz6I7wz1qnk6uJVgrFQJa/iIvViBMWErY+5T+JwLTqXowD70+/NEbLT+SCT3GVBkiWZKe7sOs2PuKc5KR/HzAjH/H1pdgXapKE3BpL/uvcGrsFr51OpoQzeO4p1/739m78K3W44HbOawFvvVe71+3MZL9VYsi5OtzBKMivnr2C31By1jF76HyBWsx+gcvNHokWpGLWLsbFX8gPo3v6lVcgN6I0YtYubC1iC80OQsz4kF0pbVsCWP81epoi2rQDzDcun/4at6kzMgso52R4XiGfZE7BP/clgo/Vg8xPAhSGAEHoXGgmyysSPaIH1Oh6U3t2p8w5HQ6BnI4bK0RHOHQDzD/NC4ONDN19KL0qxPLINh+CJ9FahXwuHSG/oDz4YwAZgViYzUsNXtuKN5na/KboSmX8iAsy1IrQKsAAAAAElFTkSuQmCC";const z={class:"navbar-left"},x={class:"nav-links"},j={class:"navbar-right"};function Z(e,t,o,s,i,r){const n=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("nav",{class:(0,h.C4)(["navbar",{"navbar-scrolled":i.isScrolled}])},[(0,a.Lk)("div",z,[(0,a.bF)(n,{to:"/home"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.Lk)("img",{src:F,alt:"Logo",class:"logo"},null,-1)]))),_:1}),(0,a.Lk)("ul",x,[(0,a.Lk)("li",null,[(0,a.bF)(n,{to:"/home"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)(" 홈 ")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(n,{to:"/popular"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)(" 대세 콘텐츠 ")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(n,{to:"/search"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)(" 찾아보기 ")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(n,{to:"/wishlist"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)(" 내가 찜한 리스트 ")]))),_:1})])])]),(0,a.Lk)("div",j,[(0,a.Lk)("img",{src:G,alt:"Profile",class:"profile-icon",onClick:t[0]||(t[0]=(...e)=>r.logout&&r.logout(...e))})])],2)}var $={name:"Navbar",data(){return{isScrolled:!1}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.isScrolled=window.scrollY>50},logout(){localStorage.removeItem("user"),this.$store&&this.$store.dispatch("logout"),this.$router.push("/signin")}}};const q=(0,l.A)($,[["render",Z],["__scopeId","data-v-bf0166f8"]]);var ee=q,te={name:"WishList",components:{Navbar:ee},setup(){const e=(0,Y.Pj)(),t=(0,a.EW)((()=>e.getters.wishlist)),o=t=>{e.dispatch("toggleWishlist",t)};return{wishlist:t,toggleWishlist:o}}};const oe=(0,l.A)(te,[["render",H],["__scopeId","data-v-1c034802"]]);var se=oe;o(8992),o(7550);const ae=(0,Y.y$)({state:{user:JSON.parse(localStorage.getItem("user"))||null,isAuthenticated:!!localStorage.getItem("user"),wishlist:JSON.parse(localStorage.getItem("wishlist"))||[],recentSearches:JSON.parse(localStorage.getItem("recentSearches"))||[],searchResults:JSON.parse(localStorage.getItem("searchResults"))||[]},mutations:{setUser(e,t){e.user=t,e.isAuthenticated=!!t,t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user")},logout(e){e.user=null,e.isAuthenticated=!1,localStorage.removeItem("user"),localStorage.removeItem("kakaoToken")},TOGGLE_WISHLIST(e,t){const o=e.wishlist.findIndex((e=>e.id===t.id));-1===o?e.wishlist.push(t):e.wishlist.splice(o,1),localStorage.setItem("wishlist",JSON.stringify(e.wishlist))},ADD_SEARCH_HISTORY(e,t){e.recentSearches.includes(t)||(e.recentSearches.unshift(t),e.recentSearches.length>10&&e.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(e.recentSearches)))},DELETE_SEARCH_HISTORY(e,t){e.recentSearches.splice(t,1),localStorage.setItem("recentSearches",JSON.stringify(e.recentSearches))},SET_SEARCH_RESULTS(e,t){e.searchResults=t,localStorage.setItem("searchResults",JSON.stringify(t))}},actions:{toggleWishlist({commit:e},t){e("TOGGLE_WISHLIST",t)},addSearchHistory({commit:e},t){e("ADD_SEARCH_HISTORY",t)},deleteSearchHistory({commit:e},t){e("DELETE_SEARCH_HISTORY",t)},setSearchResults({commit:e},t){console.log("검색 결과 저장 중:",t),e("SET_SEARCH_RESULTS",t)},authenticateUser({commit:e},t){e("setUser",t)},logoutUser({commit:e}){e("logout")},async fetchKakaoUser({commit:e},t){try{const o=await fetch("https://kapi.kakao.com/v2/user/me",{method:"GET",headers:{Authorization:`Bearer ${t}`}}),s=await o.json(),a={nickname:s.properties.nickname,profile_image:s.properties.profile_image};e("setUser",a)}catch(o){console.error("카카오 사용자 정보 가져오기 실패:",o)}}},getters:{wishlist:e=>e.wishlist,isInWishlist:e=>t=>e.wishlist.some((e=>e.id===t)),recentSearches:e=>e.recentSearches,searchResults:e=>e.searchResults,isAuthenticated:e=>e.isAuthenticated,user:e=>e.user}});var ie=ae;const re={key:0,class:"movie-detail"},ne=["src"],le={class:"content"};function ce(e,t,o,s,i,r){return i.movie?((0,a.uX)(),(0,a.CE)("div",re,[(0,a.Lk)("img",{src:r.makeImagePath(i.movie.backdrop_path,"w1280"),alt:"Movie Background"},null,8,ne),(0,a.Lk)("div",le,[(0,a.Lk)("h2",null,(0,h.v_)(i.movie.title),1),(0,a.Lk)("p",null,(0,h.v_)(i.movie.overview),1),(0,a.Lk)("p",null,"개봉일: "+(0,h.v_)(i.movie.release_date),1),(0,a.Lk)("p",null,"평점: ⭐ "+(0,h.v_)(i.movie.vote_average),1)])])):(0,a.Q3)("",!0)}var de=o(4373),ue={data(){return{movie:null}},created(){this.fetchMovieDetail()},methods:{async fetchMovieDetail(){const e={VUE_APP_KAKAO_JAVASCRIPT_KEY:" 8d03210ed7796dc9bd82c25753705f6f",NODE_ENV:"production",BASE_URL:"/WSD-Assignment-04/"}.VUE_APP_TMDB_API_KEY,t=this.$route.params.id;try{const o=await de.A.get(`https://api.themoviedb.org/3/movie/${t}?api_key=${e}&language=ko-KR`);this.movie=o.data}catch(o){console.error("Error fetching movie details:",o)}},makeImagePath(e,t){return`https://image.tmdb.org/t/p/${t}${e}`}}};const he=(0,l.A)(ue,[["render",ce],["__scopeId","data-v-3750c650"]]);var ve=he;const ge={class:"slider-container"},me={ref:"slider",class:"slider-content"};function pe(e,t,o,s,i,r){const n=(0,a.g2)("MovieCard");return(0,a.uX)(),(0,a.CE)("div",ge,[(0,a.Lk)("button",{class:"arrow-btn left",onClick:t[0]||(t[0]=(...e)=>s.scrollLeft&&s.scrollLeft(...e))},t[2]||(t[2]=[(0,a.Lk)("i",{class:"fas fa-chevron-left"},null,-1)])),(0,a.Lk)("div",me,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.movies,(e=>((0,a.uX)(),(0,a.Wv)(n,{key:e.id,movie:e},null,8,["movie"])))),128))],512),(0,a.Lk)("button",{class:"arrow-btn right",onClick:t[1]||(t[1]=(...e)=>s.scrollRight&&s.scrollRight(...e))},t[3]||(t[3]=[(0,a.Lk)("i",{class:"fas fa-chevron-right"},null,-1)]))])}var ke=o(144);const Ae={class:"movie-card"},we=["src","alt"],Ee={class:"movie-info"},fe={class:"movie-title"},Re={class:"release-date"},De={key:0,class:"movie-rating"};function Le(e,t,o,i,r,n){return(0,a.uX)(),(0,a.CE)("div",Ae,[(0,a.Lk)("img",{src:n.posterUrl,alt:o.movie.title,class:"poster"},null,8,we),(0,a.Lk)("div",Ee,[(0,a.Lk)("p",fe,(0,h.v_)(o.movie.title),1),(0,a.Lk)("p",Re," 개봉일: "+(0,h.v_)(n.formattedReleaseDate),1),o.movie.vote_average?((0,a.uX)(),(0,a.CE)("div",De," ⭐ "+(0,h.v_)(o.movie.vote_average)+" / 10 ",1)):(0,a.Q3)("",!0)]),(0,a.Lk)("span",{class:"wishlist-icon",onClick:t[0]||(t[0]=(0,s.D$)(((...e)=>n.handleWishlist&&n.handleWishlist(...e)),["stop"]))},[(0,a.Lk)("i",{class:(0,h.C4)(e.isInWishlist(o.movie.id)?"fas fa-heart liked":"far fa-heart")},null,2)])])}var Ne={props:{movie:{type:Object,required:!0}},computed:{...(0,Y.L8)(["isInWishlist"]),posterUrl(){return`https://image.tmdb.org/t/p/w500/${this.movie.poster_path}`},formattedReleaseDate(){if(!this.movie.release_date)return"알 수 없음";const e={year:"numeric",month:"long",day:"numeric"};return new Date(this.movie.release_date).toLocaleDateString("ko-KR",e)}},methods:{...(0,Y.i0)(["toggleWishlist"]),handleWishlist(){this.toggleWishlist(this.movie)}}};const be=(0,l.A)(Ne,[["render",Le],["__scopeId","data-v-7d36438e"]]);var Se=be,Pe={components:{MovieCard:Se},props:{movies:{type:Array,required:!0}},setup(){const e=(0,ke.KR)(null),t=()=>{e.value&&e.value.scrollBy({left:-300,behavior:"smooth"})},o=()=>{e.value&&e.value.scrollBy({left:300,behavior:"smooth"})};return{slider:e,scrollLeft:t,scrollRight:o}}};const Ce=(0,l.A)(Pe,[["render",pe],["__scopeId","data-v-7a43e855"]]);var ye=Ce;const _e={class:"search-bar"},Ie={key:0,class:"recent-searches"},Me=["onClick"],Ue=["onClick"],Te={class:"dropdown-container"},Oe=["onClick"],Be={key:0,class:"select-items"},Ke=["onClick"],Ve={class:"movie-grid"},Qe={class:"poster-container"},Je=["src","alt"],We=["onClick"],Xe={class:"movie-title"},He={key:1,class:"loading"};function Ye(e,t,o,i,r,n){const l=(0,a.g2)("Navbar");return(0,a.uX)(),(0,a.CE)("div",{class:"search-page",onScroll:t[4]||(t[4]=(...e)=>n.handleScroll&&n.handleScroll(...e))},[(0,a.bF)(l),t[7]||(t[7]=(0,a.Lk)("h1",null,"영화 검색",-1)),(0,a.Lk)("div",_e,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchQuery=e),type:"text",placeholder:"영화 제목을 검색하세요",onKeydown:t[1]||(t[1]=(0,s.jR)(((...e)=>n.handleSearch&&n.handleSearch(...e)),["enter"]))},null,544),[[s.Jo,r.searchQuery]]),(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.handleSearch&&n.handleSearch(...e))}," 검색 ")]),e.recentSearches.length?((0,a.uX)(),(0,a.CE)("div",Ie,[t[5]||(t[5]=(0,a.Lk)("h3",null,"최근 검색어",-1)),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.recentSearches,((t,o)=>((0,a.uX)(),(0,a.CE)("li",{key:o},[(0,a.Lk)("span",{onClick:e=>n.searchFromHistory(t)},(0,h.v_)(t),9,Me),(0,a.Lk)("button",{class:"delete-btn",onClick:t=>e.deleteSearchHistory(o)}," X ",8,Ue)])))),128))])])):(0,a.Q3)("",!0),(0,a.Lk)("div",Te,[t[6]||(t[6]=(0,a.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.dropdownEntries,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.key,class:"custom-select"},[(0,a.Lk)("div",{class:"select-selected",onClick:t=>n.toggleDropdown(e.key)},(0,h.v_)(r.selectedOptions[e.key]),9,Oe),r.activeDropdown===e.key?((0,a.uX)(),(0,a.CE)("div",Be,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.options,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t,onClick:o=>n.selectOption(e.key,t)},(0,h.v_)(t),9,Ke)))),128))])):(0,a.Q3)("",!0)])))),128)),(0,a.Lk)("button",{class:"clear-options",onClick:t[3]||(t[3]=(...e)=>n.clearOptions&&n.clearOptions(...e))}," 초기화 ")]),(0,a.Lk)("div",Ve,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.movies,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id,class:"movie-card"},[(0,a.Lk)("div",Qe,[(0,a.Lk)("img",{class:"movie-poster",src:n.getPosterUrl(t.poster_path),alt:t.title},null,8,Je),(0,a.Lk)("button",{class:(0,h.C4)(["favorite-btn",{favorited:e.isInWishlist(t.id)}]),onClick:o=>e.toggleWishlist(t)}," ❤ ",10,We)]),(0,a.Lk)("div",Xe,(0,h.v_)(t.title),1)])))),128))]),r.loading?((0,a.uX)(),(0,a.CE)("div",He," 로딩 중... ")):(0,a.Q3)("",!0)],32)}o(1454);const Fe={VUE_APP_KAKAO_JAVASCRIPT_KEY:" 8d03210ed7796dc9bd82c25753705f6f",NODE_ENV:"production",BASE_URL:"/WSD-Assignment-04/"}.VUE_APP_TMDB_API_KEY,Ge={VUE_APP_KAKAO_JAVASCRIPT_KEY:" 8d03210ed7796dc9bd82c25753705f6f",NODE_ENV:"production",BASE_URL:"/WSD-Assignment-04/"}.VUE_APP_BASE_URL,ze=async(e=1)=>{try{const t=await de.A.get(`${Ge}/movie/popular`,{params:{api_key:Fe,language:"ko-KR",page:e}});return t.data}catch(t){return console.error("Error fetching popular movies:",t),{results:[]}}},xe=async e=>{const{genre:t,rating:o,language:s,page:a=1}=e;try{const e={api_key:Fe,language:"ko-KR",page:a};if(t&&"장르 (전체)"!==t){const o={Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751};e.with_genres=o[t]||null}if(o&&"평점 (전체)"!==o){const[t,s]=o.split("~").map(Number);e["vote_average.gte"]=t||0,e["vote_average.lte"]=s||10}s&&"언어 (전체)"!==s&&(e.with_original_language=s);const i=await de.A.get(`${Ge}/discover/movie`,{params:e});return i.data}catch(i){return console.error("Error fetching movies:",i),{results:[]}}},je=async(e,t=1)=>{try{const o=await de.A.get(`${Ge}/search/movie`,{params:{api_key:Fe,language:"ko-KR",query:e,page:t}});return o.data.results}catch(o){return console.error("Error searching movies:",o),[]}};var Ze={name:"Search",components:{Navbar:ee},data(){return{searchQuery:"",dropdowns:{originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","en","ko"]},DEFAULT_OPTIONS:{originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},selectedOptions:{originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},activeDropdown:null,movies:[],currentPage:1,totalPages:1,loading:!1}},computed:{...(0,Y.L8)(["recentSearches","wishlist","isInWishlist"]),dropdownEntries(){return Object.entries(this.dropdowns).map((([e,t])=>({key:e,options:t})))}},created(){this.fetchMovies(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{...(0,Y.i0)(["addSearchHistory","setSearchResults","toggleWishlist","deleteSearchHistory"]),async fetchMovies(e=1,t=!1){if(this.loading)return;this.loading=!0;const o={genre:this.selectedOptions.originalLanguage,rating:this.selectedOptions.translationLanguage,language:this.selectedOptions.sorting,page:e};try{const s=await xe(o);this.movies=t?[...this.movies,...s.results]:s.results,this.currentPage=e,this.totalPages=s.total_pages}catch(s){console.error("Error fetching movies:",s)}finally{this.loading=!1}},async handleSearch(){if(this.searchQuery.trim()){this.loading=!0;try{this.addSearchHistory(this.searchQuery);const e=await je(this.searchQuery,1);this.movies=e||[],this.currentPage=1,this.totalPages=e.total_pages||1,this.setSearchResults(this.movies)}catch(e){console.error("검색 중 오류 발생:",e.message)}finally{this.loading=!1}}},searchFromHistory(e){this.searchQuery=e,this.handleSearch()},toggleDropdown(e){this.activeDropdown=this.activeDropdown===e?null:e},selectOption(e,t){this.selectedOptions={...this.selectedOptions,[e]:t},this.activeDropdown=null,this.fetchMovies(1)},clearOptions(){this.selectedOptions={...this.DEFAULT_OPTIONS},this.fetchMovies(1)},handleScroll(){const e=window.innerHeight+window.scrollY>=document.body.offsetHeight-100;e&&this.currentPage<this.totalPages&&this.fetchMovies(this.currentPage+1,!0)},getPosterUrl(e){return e?`https://image.tmdb.org/t/p/w500/${e}`:"default_poster.png"}}};const $e=(0,l.A)(Ze,[["render",Ye],["__scopeId","data-v-0f67f3c3"]]);var qe=$e;const et={class:"popular"},tt={class:"movie-grid"},ot={key:0,class:"loading"};function st(e,t,o,s,i,r){const n=(0,a.g2)("MovieCard");return(0,a.uX)(),(0,a.CE)("div",et,[(0,a.Lk)("div",tt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.movies,(e=>((0,a.uX)(),(0,a.Wv)(n,{key:e.id,movie:e},null,8,["movie"])))),128))]),i.loading?((0,a.uX)(),(0,a.CE)("div",ot," 로딩 중... ")):(0,a.Q3)("",!0),i.showScrollTopButton?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"scroll-top",onClick:t[0]||(t[0]=(...e)=>r.scrollToTop&&r.scrollToTop(...e))}," TOP(위로) ")):(0,a.Q3)("",!0)])}var at={name:"PopularInfinite",components:{MovieCard:Se},data(){return{movies:[],currentPage:1,totalPages:1,loading:!1,showScrollTopButton:!1}},created(){this.fetchMovies(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{async fetchMovies(e=1){if(this.loading||e>this.totalPages)return;this.loading=!0;const t=await ze(e);this.movies=[...this.movies,...t.results],this.currentPage=e,this.totalPages=t.total_pages,this.loading=!1},handleScroll(){const e=window.innerHeight+window.scrollY>=document.body.offsetHeight-100;e&&this.currentPage<this.totalPages&&this.fetchMovies(this.currentPage+1),this.showScrollTopButton=window.scrollY>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}};const it=(0,l.A)(at,[["render",st],["__scopeId","data-v-3b23ca2e"]]);var rt=it;const nt={class:"popular"},lt={class:"movie-grid"},ct={class:"pagination"},dt=["disabled"],ut=["disabled"];function ht(e,t,o,s,i,r){const n=(0,a.g2)("MovieCard");return(0,a.uX)(),(0,a.CE)("div",nt,[(0,a.Lk)("div",lt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.paginatedMovies,(e=>((0,a.uX)(),(0,a.Wv)(n,{key:e.id,movie:e},null,8,["movie"])))),128))]),(0,a.Lk)("div",ct,[(0,a.Lk)("button",{disabled:1===i.currentPage,onClick:t[0]||(t[0]=e=>r.changePage(i.currentPage-1))}," < 이전 ",8,dt),(0,a.Lk)("span",null,(0,h.v_)(i.currentPage)+" / "+(0,h.v_)(i.totalPages),1),(0,a.Lk)("button",{disabled:i.currentPage===i.totalPages,onClick:t[1]||(t[1]=e=>r.changePage(i.currentPage+1))}," 다음 > ",8,ut)])])}var vt={name:"PopularTable",components:{MovieCard:Se},data(){return{movies:[],currentPage:1,totalPages:1,moviesPerPage:this.calculateMoviesPerPage()}},computed:{paginatedMovies(){const e=(this.currentPage-1)*this.moviesPerPage,t=e+this.moviesPerPage;return this.movies.slice(e,t)}},created(){this.fetchMovies(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{async fetchMovies(){try{const e=3;let t=[];for(let o=1;o<=e;o++){const e=await ze(o);t=[...t,...e.results]}this.movies=t,this.totalPages=Math.ceil(this.movies.length/this.moviesPerPage)}catch(e){console.error("Error fetching movies:",e)}},changePage(e){e>0&&e<=this.totalPages&&(this.currentPage=e)},calculateMoviesPerPage(){return window.innerWidth<=480?9:window.innerWidth<=768?6:10},handleResize(){this.moviesPerPage=this.calculateMoviesPerPage(),this.totalPages=Math.ceil(this.movies.length/this.moviesPerPage)}}};const gt=(0,l.A)(vt,[["render",ht],["__scopeId","data-v-00a191f2"]]);var mt=gt;const pt={class:"view-toggle"};function kt(e,t,o,s,i,r){const n=(0,a.g2)("Navbar");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(n),(0,a.Lk)("div",pt,[(0,a.Lk)("button",{class:(0,h.C4)({active:"PopularTable"===i.currentView}),onClick:t[0]||(t[0]=e=>r.switchView("PopularTable"))}," 📋 Table View ",2),(0,a.Lk)("button",{class:(0,h.C4)({active:"PopularInfinite"===i.currentView}),onClick:t[1]||(t[1]=e=>r.switchView("PopularInfinite"))}," 📜 무한 스크롤 View ",2)]),((0,a.uX)(),(0,a.Wv)((0,a.$y)(i.currentView)))])}var At={name:"Popular",components:{Navbar:ee,PopularTable:mt,PopularInfinite:rt},data(){return{currentView:"PopularTable"}},watch:{currentView(e){document.body.style.overflow="PopularTable"===e?"hidden":""}},created(){"PopularTable"===this.currentView&&(document.body.style.overflow="hidden")},beforeUnmount(){document.body.style.overflow=""},methods:{switchView(e){this.currentView=e}}};const wt=(0,l.A)(At,[["render",kt],["__scopeId","data-v-3599d8e9"]]);var Et=wt;function ft(e,t,o,s,i,r){return(0,a.uX)(),(0,a.CE)("div",null,t[0]||(t[0]=[(0,a.Lk)("p",null,"카카오 로그인 중입니다. 잠시만 기다려 주세요...",-1)]))}var Rt={mounted(){const e=new URLSearchParams(window.location.search),t=e.get("code");t?this.fetchAccessToken(t):(console.error("Authorization Code가 없습니다."),this.$router.push("/signin"))},methods:{fetchAccessToken(e){fetch("https://kauth.kakao.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",client_id:" 8d03210ed7796dc9bd82c25753705f6f",redirect_uri:{VUE_APP_KAKAO_JAVASCRIPT_KEY:" 8d03210ed7796dc9bd82c25753705f6f",NODE_ENV:"production",BASE_URL:"/WSD-Assignment-04/"}.VUE_APP_KAKAO_REDIRECT_URI,code:e})}).then((e=>e.json())).then((e=>{e.access_token?(localStorage.setItem("kakaoToken",e.access_token),this.getUserInfo(e.access_token)):(console.error("Access Token 발급 실패:",e),this.$router.push("/signin"))})).catch((e=>{console.error("Access Token 요청 중 오류 발생:",e),this.$router.push("/signin")}))},getUserInfo(e){fetch("https://kapi.kakao.com/v2/user/me",{method:"GET",headers:{Authorization:`Bearer ${e}`}}).then((e=>e.json())).then((e=>{const t={nickname:e.properties.nickname,profile_image:e.properties.profile_image};this.$store.commit("setUser",t),this.$router.push("/home")})).catch((e=>{console.error("사용자 정보 요청 중 오류 발생:",e),this.$router.push("/signin")}))}}};const Dt=(0,l.A)(Rt,[["render",ft],["__scopeId","data-v-c5b3a1a6"]]);var Lt=Dt;const Nt=[{path:"/signin",name:"SignIn",component:K,meta:{hideNavbar:!0,showHeader:!1}},{path:"/home",name:"Home",component:b,meta:{requiresAuth:!0}},{path:"/",redirect:"/signin",meta:{showHeader:!1}},{path:"/movies/:id",name:"MovieDetail",component:ve},{path:"/wishlist",name:"Wishlist",component:se,meta:{requiresAuth:!0}},{path:"/slider",name:"SliderContent",component:ye},{path:"/popular",component:Et,redirect:"/popular/table",children:[{path:"table",component:mt},{path:"infinite",component:rt}]},{path:"/search",name:"Search",component:qe,meta:{requiresAuth:!0}},{path:"/kakao/callback",name:"KaKaoCallback",component:Lt,meta:{hideNavbar:!0,showHeader:!1}}],bt=(0,u.aE)({history:(0,u.Bt)(),routes:Nt});bt.beforeEach(((e,t,o)=>{const s=ie.getters.isAuthenticated;e.meta.requiresAuth&&!s?o("/signin"):"SignIn"===e.name&&s?o("/home"):o()}));var St=bt,Pt=o(8950),Ct=o(292),yt=o(2353);Pt.Yv.add(yt.Uec,yt.vmR,yt.qcK,yt.ekB);const _t=(0,s.Ef)(d);_t.use(St),_t.use(ie),_t.component("FontAwesomeIcon",Ct.gc),_t.mount("#app")}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,s,a,i){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],i=e[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every((function(e){return o.O[e](s[l])}))?s.splice(l--,1):(n=!1,i<r&&(r=i));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,a,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,r=s[0],n=s[1],l=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(l)var d=l(o)}for(t&&t(s);c<r.length;c++)i=r[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},s=self["webpackChunknetflix_clone"]=self["webpackChunknetflix_clone"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[504],(function(){return o(7898)}));s=o.O(s)})();
//# sourceMappingURL=app.25d3add5.js.map