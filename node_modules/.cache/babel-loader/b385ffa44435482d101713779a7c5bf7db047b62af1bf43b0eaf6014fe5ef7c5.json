{"ast":null,"code":"//   import Navbar from \"@/components/Navbar.vue\";\nimport MovieCard from \"@/components/MovieCard.vue\";\nimport { fetchPopularMovies } from \"../api/movies\";\nexport default {\n  name: \"PopularInfinite\",\n  components: {\n    //   Navbar,\n    MovieCard\n  },\n  data() {\n    return {\n      movies: [],\n      currentPage: 1,\n      totalPages: 1,\n      loading: false,\n      showScrollTopButton: false\n    };\n  },\n  created() {\n    this.fetchMovies();\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n  methods: {\n    async fetchMovies(page = 1) {\n      if (this.loading || page > this.totalPages) return;\n      this.loading = true;\n      const data = await fetchPopularMovies(page);\n      this.movies = [...this.movies, ...data.results];\n      this.currentPage = page;\n      this.totalPages = data.total_pages;\n      this.loading = false;\n    },\n    handleScroll() {\n      const bottomOfWindow = window.innerHeight + window.scrollY >= document.body.offsetHeight - 100;\n      if (bottomOfWindow && this.currentPage < this.totalPages) {\n        this.fetchMovies(this.currentPage + 1); // 다음 페이지 데이터 로드\n      }\n      this.showScrollTopButton = window.scrollY > 300;\n    },\n    scrollToTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["MovieCard","fetchPopularMovies","name","components","data","movies","currentPage","totalPages","loading","showScrollTopButton","created","fetchMovies","window","addEventListener","handleScroll","beforeDestroy","removeEventListener","methods","page","results","total_pages","bottomOfWindow","innerHeight","scrollY","document","body","offsetHeight","scrollToTop","scrollTo","top","behavior"],"sources":["C:\\Users\\hyemi\\WSD-Assignment-04\\src\\views\\PopularInfinite.vue"],"sourcesContent":["<template>\r\n    <div class=\"popular\">\r\n      <!-- Navbar -->\r\n      <!-- <Navbar class=\"navbar\" /> -->\r\n  \r\n      <!-- 영화 리스트 -->\r\n      <div class=\"movie-grid\">\r\n        <MovieCard\nv-for=\"movie in movies\"\n:key=\"movie.id\"\n:movie=\"movie\"\n/>\r\n      </div>\r\n  \r\n      <!-- Loading Spinner -->\r\n      <div\nv-if=\"loading\"\nclass=\"loading\"\n>\r\n        로딩 중...\r\n      </div>\r\n  \r\n      <!-- 맨 위로 올라가기 버튼 -->\r\n      <button\nv-if=\"showScrollTopButton\"\nclass=\"scroll-top\"\n@click=\"scrollToTop\"\n>\r\n        TOP(위로)\r\n      </button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n//   import Navbar from \"@/components/Navbar.vue\";\r\n  import MovieCard from \"@/components/MovieCard.vue\";\r\n  import { fetchPopularMovies } from \"../api/movies\";\r\n  \r\n  export default {\r\n    name: \"PopularInfinite\",\r\n    components: {\r\n    //   Navbar,\r\n      MovieCard,\r\n    },\r\n    data() {\r\n      return {\r\n        movies: [],\r\n        currentPage: 1,\r\n        totalPages: 1,\r\n        loading: false,\r\n        showScrollTopButton: false,\r\n      };\r\n    },\r\n    created() {\r\n      this.fetchMovies();\r\n      window.addEventListener(\"scroll\", this.handleScroll);\r\n    },\r\n    beforeDestroy() {\r\n      window.removeEventListener(\"scroll\", this.handleScroll);\r\n    },\r\n    methods: {\r\n      async fetchMovies(page = 1) {\r\n        if (this.loading || page > this.totalPages) return;\r\n  \r\n        this.loading = true;\r\n        const data = await fetchPopularMovies(page);\r\n        this.movies = [...this.movies, ...data.results];\r\n        this.currentPage = page;\r\n        this.totalPages = data.total_pages;\r\n        this.loading = false;\r\n      },\r\n      handleScroll() {\r\n        const bottomOfWindow =\r\n          window.innerHeight + window.scrollY >= document.body.offsetHeight - 100;\r\n  \r\n        if (bottomOfWindow && this.currentPage < this.totalPages) {\r\n          this.fetchMovies(this.currentPage + 1); // 다음 페이지 데이터 로드\r\n        }\r\n  \r\n        this.showScrollTopButton = window.scrollY > 300;\r\n      },\r\n      scrollToTop() {\r\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* Navbar 고정 */\r\n  .navbar {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    z-index: 1000;\r\n    background-color: #121212;\r\n    border-bottom: 1px solid #333;\r\n  }\r\n  \r\n  .popular {\r\n    padding-top: 60px;\r\n    background-color: #121212;\r\n    color: #fff;\r\n    min-height: 100vh;\r\n  }\r\n  \r\n  .movie-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n    gap: 20px;\r\n    padding: 20px;\r\n  }\r\n  \r\n  .loading {\r\n    text-align: center;\r\n    margin: 20px 0;\r\n    color: white;\r\n  }\r\n  \r\n  .scroll-top {\r\n    position: fixed;\r\n    bottom: 20px;\r\n    right: 20px;\r\n    background-color: #e50914;\r\n    color: #fff;\r\n    border: none;\r\n    padding: 10px 20px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .scroll-top:hover {\r\n    background-color: #b00610;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n  .movie-grid {\r\n    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); /* 모바일에서 카드 크기 */\r\n    gap: 10px;\r\n  }\r\n}\r\n  </style>\r\n  "],"mappings":"AAkCA;AACE,OAAOA,SAAQ,MAAO,4BAA4B;AAClD,SAASC,kBAAiB,QAAS,eAAe;AAElD,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,UAAU,EAAE;IACZ;IACEH;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,WAAW,EAAE,CAAC;MACdC,UAAU,EAAE,CAAC;MACbC,OAAO,EAAE,KAAK;MACdC,mBAAmB,EAAE;IACvB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,WAAW,CAAC,CAAC;IAClBC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,YAAY,CAAC;EACtD,CAAC;EACDC,aAAaA,CAAA,EAAG;IACdH,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACF,YAAY,CAAC;EACzD,CAAC;EACDG,OAAO,EAAE;IACP,MAAMN,WAAWA,CAACO,IAAG,GAAI,CAAC,EAAE;MAC1B,IAAI,IAAI,CAACV,OAAM,IAAKU,IAAG,GAAI,IAAI,CAACX,UAAU,EAAE;MAE5C,IAAI,CAACC,OAAM,GAAI,IAAI;MACnB,MAAMJ,IAAG,GAAI,MAAMH,kBAAkB,CAACiB,IAAI,CAAC;MAC3C,IAAI,CAACb,MAAK,GAAI,CAAC,GAAG,IAAI,CAACA,MAAM,EAAE,GAAGD,IAAI,CAACe,OAAO,CAAC;MAC/C,IAAI,CAACb,WAAU,GAAIY,IAAI;MACvB,IAAI,CAACX,UAAS,GAAIH,IAAI,CAACgB,WAAW;MAClC,IAAI,CAACZ,OAAM,GAAI,KAAK;IACtB,CAAC;IACDM,YAAYA,CAAA,EAAG;MACb,MAAMO,cAAa,GACjBT,MAAM,CAACU,WAAU,GAAIV,MAAM,CAACW,OAAM,IAAKC,QAAQ,CAACC,IAAI,CAACC,YAAW,GAAI,GAAG;MAEzE,IAAIL,cAAa,IAAK,IAAI,CAACf,WAAU,GAAI,IAAI,CAACC,UAAU,EAAE;QACxD,IAAI,CAACI,WAAW,CAAC,IAAI,CAACL,WAAU,GAAI,CAAC,CAAC,EAAE;MAC1C;MAEA,IAAI,CAACG,mBAAkB,GAAIG,MAAM,CAACW,OAAM,GAAI,GAAG;IACjD,CAAC;IACDI,WAAWA,CAAA,EAAG;MACZf,MAAM,CAACgB,QAAQ,CAAC;QAAEC,GAAG,EAAE,CAAC;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IACjD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}